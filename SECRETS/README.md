```
.
├── gen_master_backup_key.sh : generates the GPG master backup key
├── gen_ssh.sh : Generates all the requires ssh keys, for sysadmin as well as for intranet who need to send backups to backup server.
├── gen_x509.sh : Generates all required x509 certificates, for HTTPS and TLS to MySQL server
├── backup-master-key
│   ├── bkp-master-key-private.gpg : stored offline, only used in emergency to decrypt backup
│   └── bkp-master-key-public.gpg : allows encryption for backup. E.g. use this to encrypt pkcs12 certs + private keys generated by ca-server
├── ca-admin : used for TLS client authentication of the ca admin.
│   ├── ca-admin.crt : stored in webserver to allow authentication
│   └── ca-admin.key : stored on ca-admin personal machine
├── ca-server
│   ├── cacert.pem : CA root certificate
│   ├── cakey.pem : CA root private key
│   └── ca_password.txt : encryption password for cakey.pem
├── ca-server-https : certificate and key to allow HTTPS connection from webserver to ca-server
│   ├── ca-server-https.crt
│   └── ca-server-https.key
├── ca-server-mysql : certificate and key for TLS client authentication when ca-server connects to MySQL db.
│   ├── ca-server-mysql.crt
│   └── ca-server-mysql.key
├── ca-server-ssh : SSH credentials to send backup of certificates with duplicity over SFTP to the backup server
│   ├── ca-server-ssh
│   └── ca-server-ssh.pub
├── mysql-server : Allows for server authentication when connecting over TLS to MySQL db.
│   ├── mysql-server.crt
│   └── mysql-server.key
├── mysql-server-ssh : SSH credentials to send backup of db with duplicity over SFTP to the backup server.
│   ├── mysql-server-ssh
│   └── mysql-server-ssh.pub
├── sysadmin-ssh : SSH credentials for sysadmin to do remote administration in the intranet machines. 
│   ├── sysadmin-ssh : Stored on the sysadmin machine, protected by password (see gen_ssh.sh)
│   └── sysadmin-ssh.pub : Stored on all the intranet machines in the file `~/.ssh/authorized_keys` to allow the sysadmin to connect.
├── webserver-https : Certificate and key to allow the webserver to serve the external facing webapp over HTTPS.
│   ├── webserver-https.crt
│   └── webserver-https.key
├──  webserver-mysql : certificate and key for TLS client authentication when webserver connects to MySQL db.
|   ├── webserver-mysql.crt
|   └── webserver-mysql.key
└── logging-rsyslog : cert + key for TLS server authentication to encrypt logs when using rsyslog (see https://rsyslog.readthedocs.io/en/latest/tutorials/tls.html)
    ├── logging-rsyslog.crt
    └── logging-rsyslog.key
```
